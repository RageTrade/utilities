const SECRET = JSON.parse(process.env.SECRET as string)

export const PRE_FLIGHT_CHECK = {
  FTX_BALANCE_THRESHOLD: 95,
  ARB_ETH_BAL_THRESHOLD: 0.1,
  RAGETRADE_BAL_THRESHOLD: 100 * 10 ** 6,
  BLOCK_TIMESTAMP_FRESHNESS_THRESHOLD: 10 * 60,
}

export const NETWORK_INF0 = {
  CHAIN_ID: 421611,
  BLOCK_EXPLORER_URL: 'https://testnet.arbiscan.io/',
  BLOCK_EXPLORER_API: SECRET.BLOCK_EXPLORER_API as string,
  PK_VAULT_REBALANCE: SECRET.PK_VAULT_REBALANCE as string,
  PK_LIQUIDATION: SECRET.PK_LIQUIDATION as string,
  PK_PRICE_ARB_BOT: SECRET.PK_PRICE_ARB_BOT as string,
  PK_FUNDING_ARB_BOT: SECRET.PK_FUNDING_ARB_BOT as string,
  WSS_RPC_URL: SECRET.WSS_RPC_URL as string,
  HTTP_RPC_URL: SECRET.HTTP_RPC_URL as string,
  ARB_BOT_WEBHOOK_URL: SECRET.ARB_BOT_WEBHOOK_URL as string,
  REBALANCE_WEBHOOK_URL: SECRET.REBALANCE_WEBHOOK_URL as string,
  LIQUIDATION_WEBHOOK_URL: SECRET.LIQUIDATION_WEBHOOK_URL as string,
}

export const AMM_CONFIG = {
  FEE: 0.0015,
  POOL_ID: 2277115137,
  PRICE_ARB_ACCOUNT_ID: Number(SECRET.PRICE_ARB_ACCOUNT_ID as string),
  FUNDING_ARB_ACCOUNT_ID: Number(SECRET.FUNDING_ARB_ACCOUNT_ID as string) || 0
}

export const FTX_CONFIG = {
  FEE: 0.000665,
  SCALING_FACTOR: 1000,
  MARKET_ID: 'ETH-PERP',
  PRICE_ARB_ACCOUNT: {
    SUB_ACCOUNT_ID: SECRET.SUB_ACCOUNT_ID as string,
    ACCESS_KEY: SECRET.ACCESS_KEY as string,
    ACCESS_SECRET: SECRET.ACCESS_SECRET as string,
  },
  FUNDING_ARB_ACCOUNT: {
    SUB_ACCOUNT_ID: '',
    ACCESS_KEY: '',
    ACCESS_SECRET: '',
  }
}

export const STRATERGY_CONFIG = {
  FREQUENCY: 30,
  MIN_NOTIONAL_PROFIT: 5,
  SOFT_MARGIN_RATIO_THRESHOLD: 0.5,
  HARD_MARGIN_RATIO_THRESHOLD: 0.25,
}
